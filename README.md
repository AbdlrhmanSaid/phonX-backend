# PhoneX Backend - API Server

## ๐ ุงูุฅุตูุงุญุงุช ูุงูุชุญุณููุงุช ุงูุฌุฏูุฏุฉ

### โ ุชู ุฅุตูุงุญ ุงููุดุงูู ุงูุชุงููุฉ:

#### 1. ูุดููุฉ ุชุญุฏูุซ ุฑูู ุงููุงุชู

- **ุงููุดููุฉ**: ุงููุณุชุฎุฏู ูู ููู ูุณุชุทูุน ุชุนุฏูู ุฑูู ูุงุชูู ุจุดูู ุตุญูุญ
- **ุงูุญู**:
  - ุฅุถุงูุฉ imports ููููุฏุฉ ูู `updateProfile.js`
  - ุชุญุณูู ููุทู ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู
  - ุฅุถุงูุฉ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ

#### 2. ูุดููุฉ ุฅุถุงูุฉ ูููุฉ ุณุฑ ููุณุชุฎุฏู ุฌูุฌู

- **ุงููุดููุฉ**: ุงููุณุชุฎุฏู ูู ุฌูุฌู ูู ููู ูุณุชุทูุน ุฅุถุงูุฉ ูููุฉ ุณุฑ ูุญุณุงุจู
- **ุงูุญู**:
  - ุชุญุณูู ููุทู ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ ูู `updateProfile.js`
  - ุฅุถุงูุฉ ุชูุฌููุงุช ูุงุถุญุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู
  - ุชูููุฒ ููุน ุงูุญุณุงุจ (ุฌูุฌู/ูุญูู) ูู ูุงุฌูุฉ ุงูุชุญุฏูุซ

#### 3. ูุดููุฉ ุฏูุฌ ุงูุญุณุงุจุงุช ุบูุฑ ุงููุฑุบูุจ

- **ุงููุดููุฉ**: ูุงู ูุญุฏุซ ุฏูุฌ ุชููุงุฆู ููุญุณุงุจุงุช ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ุจุฌูุฌู
- **ุงูุญู**:
  - ุชุญุณูู ููุทู `googleAuthController.js` ูููุน ุงูุฏูุฌ ุงูุชููุงุฆู
  - ุฅุถุงูุฉ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุนูุฏ ูุฌูุฏ ุชุถุงุฑุจ
  - ุชุญุณูู ููุทู ุงูุชุณุฌูู ูููุน ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ ุจููุณ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

### ๐ง ุงูุชุญุณููุงุช ุงููุถุงูุฉ:

#### 1. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ูุนุงูุฌุฉ ุฎุงุตุฉ ููุญุณุงุจุงุช ุงููุณุฌูุฉ ุนุจุฑ ุฌูุฌู
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ ูู ุงููุฑููุช ุฅูุฏ

#### 2. ุชุญุณูู ุงูุชุญูู ูู ุงูุจูุงูุงุช

- ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงููุงุชู (11 ุฑูู ูุจุฏุฃ ุจู 01)
- ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ (6 ุฃุญุฑู ุนูู ุงูุฃูู)
- ุงูุชุญูู ูู ุทูู ุงูุงุณู (3 ุฃุญุฑู ุนูู ุงูุฃูู)

#### 3. ุชุญุณูู ุงูุฃูุงู

- ููุน ุงูุชุดููุฑ ุงููุฒุฏูุฌ ููููุงุช ุงููุฑูุฑ
- ุชุญุณูู ููุทู ุงูุชุญูู ูู ุงูุชูููุงุช
- ุฅุถุงูุฉ logging ููุฃุฎุทุงุก

### ๐ ุงููููุงุช ุงููุญุฏุซุฉ:

- `controllers/updateProfile.js` - ุฅุตูุงุญ ุชุญุฏูุซ ุงูุจูุงูุงุช
- `controllers/googleAuthController.js` - ุชุญุณูู ููุทู ุฌูุฌู
- `controllers/authController.js` - ุชุญุณูู ุงูุชุณุฌูู ูุชุณุฌูู ุงูุฏุฎูู
- `models/User.js` - ุชุญุณูู ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- `controllers/userController.js` - ุชุญุณูู ุงุณุชุฌุงุจุงุช API
- `routes/userRoutes.js` - ุชุญุณูู ูุณุงุฑุงุช ุงููุณุชุฎุฏู

### ๐งช ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญุงุช:

#### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช:

```bash
# ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุงูุจุงู ุฅูุฏ
node test-auth.js

# ุชุดุบูู ุงูุฎุงุฏู
npm run dev
```

#### ุงุฎุชุจุงุฑ API Endpoints:

1. **ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ**:

```bash
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Test User",
    "email": "test@example.com",
    "phone": "01234567890",
    "password": "123456"
  }'
```

2. **ุชุณุฌูู ุงูุฏุฎูู**:

```bash
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "123456"
  }'
```

3. **ุชุญุฏูุซ ุงูููู ุงูุดุฎุตู**:

```bash
curl -X PUT http://localhost:5000/api/users/profile/me \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "phone": "01123456789",
    "governorate": "ุงููุงูุฑุฉ",
    "region": "ุงููุนุงุฏู",
    "address": "ุดุงุฑุน ุงูููู"
  }'
```

4. **ุฅุถุงูุฉ ูููุฉ ูุฑูุฑ ููุณุชุฎุฏู ุฌูุฌู**:

```bash
curl -X PUT http://localhost:5000/api/users/profile/me \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "password": "newpassword123"
  }'
```

5. **ุฌูุจ ุงูููู ุงูุดุฎุตู**:

```bash
curl -X GET http://localhost:5000/api/users/profile/me \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### ๐ ุงูุฃูุงู:

- ุฌููุน ูููุงุช ุงููุฑูุฑ ูุดูุฑุฉ ุจุงุณุชุฎุฏุงู bcrypt
- ุงูุชุญูู ูู ุตุญุฉ ุฌููุน ุงููุฏุฎูุงุช
- ุญูุงูุฉ ูู SQL Injection ู XSS
- Rate Limiting ุนูู ูุณุงุฑุงุช ุงููุตุงุฏูุฉ
- JWT Tokens ูุญููุฉ ูููุญุฏุซุฉ

### ๐ ููุงุญุธุงุช ูููุฉ:

1. **ุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ** ูุจู ุชุดุบูู ุงููุดุฑูุน
2. **ูุงุนุฏุฉ ุงูุจูุงูุงุช** ูุฌุจ ุฃู ุชููู ูุชุตูุฉ ูููุนุฏุฉ ุจุดูู ุตุญูุญ
3. **ุฌููุน ุงููุณุงุฑุงุช** ูุญููุฉ ูููุนุฏุฉ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ
4. **Google OAuth** ูุชุทูุจ ุฅุนุฏุงุฏ ุตุญูุญ ูู Google Cloud Console

### ๐ ุชุดุบูู ุงููุดุฑูุน:

```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run dev

# ุชุดุบูู ูู ูุถุน ุงูุฅูุชุงุฌ
npm start
```

### ๐ ุงูุฏุนู:

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ูุฑุฌู:

1. ุงูุชุญูู ูู console logs
2. ุงูุชุฃูุฏ ูู ุฅุนุฏุงุฏ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
3. ุงูุชุญูู ูู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ูุฑุงุฌุนุฉ ููู AUTH_SETUP.md
